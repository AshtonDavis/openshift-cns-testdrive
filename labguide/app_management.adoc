## Application Management Basics


*Topic 1 - To deploy a sample application*
(Explain Pod, Services, Routes, DCs, BCs, PV, PVCs (CNS))

In this module,you would deploy a sample application using the 'oc' tool and go through some features like pods, services, routes, etc.

We would deploy a sample application from a DockerHub image. 

Step-1 ) Pull the image :-

 # docker pull siamaksade/mapit

Once the image is pulled from the repository, check that the image exists  :-

 # docker images 

Output would be similar to -
[literal]
REPOSITORY                                TAG                 IMAGE ID            CREATED             SIZE
docker.io/siamaksade/mapit                latest              9eca6ec7696a        7 days ago          444.1 MB
docker.io/osevg/workshopper               0.1                 12e0cad142f2        9 weeks ago         756.3 MB

The previous command should list out all the available images and you can then create an application using :-
[literal]
# oc new-app docker.io/siamaksade/mapit

Pod, Services, Routes, DCs, BCs, PV, PVCs

*i) Pods :-*

Pods are 'one or more containers deployed together on host'. A pod is the smallest compute unit you can define, deploy and manage. Each pod has ben allocated its own internal IP address and will own the entire port range. The containers within pods can share local storage space and networking resources. 

Pods are treated as `static` objects by OpenShift, i.e., one cannot change the pod definition while running. 

Check the running pod for this application using the 'oc' tool.

 # oc get pods 

Run oc describe to get pod details:
[cloud-user@master ~]$ oc describe pod hello-openshift

*ii) Services :-*
Service represents group of pods and provides permanent IP and hostname for other applications to use. Service layer connects application components together.
Services allow simple internal load balancing across application components.

To learn about creating services, make a new project 'serviceslab' :
[literal]
$ oc new-project serviceslab --display-name="Services Lab" \
--description="This is a project to learn about services"

To examine the details of the service :-
 $ oc describe service hello-service


*Topic 2 - Test Liveliness and Readiness Probes*

Container Health Checks Using Probes:

A probe is a Kubernetes action that periodically performs diagnostics on a running container. Currently, two types of probes exist, each serving a different purpose:

Liveness Probe-

A liveness probe checks if the container in which it is configured is still running. If the liveness probe fails, the kubelet kills the container, which will be subjected to its restart policy. Set a liveness check by configuring the `template.spec.containers.livenessprobe` stanza of a pod configuration.

Readiness Probe-

A readiness probe determines if a container is ready to service requests. If the readiness probe fails a container, the endpoints controller ensures the container has its IP address removed from the endpoints of all services. A readiness probe can be used to signal to the endpoints controller that even though a container is running, it should not receive any traffic from a proxy. Set a readiness check by configuring the `template.spec.containers.readinessprobe` stanza of a pod configuration.





